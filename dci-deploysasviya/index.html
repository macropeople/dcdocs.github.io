
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="How to deploy Data Controller in a production SAS Viya environment">
      
      
        <link rel="canonical" href="https://docs.datacontroller.io/dci-deploysasviya/">
      
      
      <link rel="shortcut icon" href="../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.1.0">
    
    
      
        <title>DC SAS Viya Deployment - Data Controller for SAS® Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.bc7e593a.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ab28b872.min.css">
        
          
          
          <meta name="theme-color" content="#ffffff">
        
      
    
    
    
      
        
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,400i,700%7CUbuntu+Mono&display=fallback">
        <style>body,input{font-family:"Open Sans",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Ubuntu Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
      <link rel="manifest" href="../manifest.webmanifest" crossorigin="use-credentials">
    
    
      <link rel="stylesheet" href="../font-awesome.css">
    
    
      
    
    



<meta name="author" content="Allan Bowe">



  

<meta property="og:type" content="website" />


  

<meta property="og:title" content="Data Controller Documentation">

<meta property="og:url" content="https://docs.datacontroller.io/dci-deploysasviya/" />

  

<meta property='og:image' content="https://docs.datacontroller.io/img/dci_deploymentdiagramviya.png"/>
<meta property="og:image:type" content="image/png" />



<meta property="og:description" content="How to deploy Data Controller in a production SAS Viya environment" />



  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="white" data-md-color-accent="amber">
      
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#sas-viya-deployment" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="https://docs.datacontroller.io" title="Data Controller for SAS® Documentation" class="md-header-nav__button md-logo" aria-label="Data Controller for SAS® Documentation">
      
  <img src="../img/favicon.ico" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Data Controller for SAS® Documentation
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              DC SAS Viya Deployment
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/macropeople/dcdocs.github.io/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    macropeople/dcdocs.github.io
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://docs.datacontroller.io" title="Data Controller for SAS® Documentation" class="md-nav__button md-logo" aria-label="Data Controller for SAS® Documentation">
      
  <img src="../img/favicon.ico" alt="logo">

    </a>
    Data Controller for SAS® Documentation
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/macropeople/dcdocs.github.io/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    macropeople/dcdocs.github.io
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      User Guide
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="User Guide" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon"></span>
        User Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../dc-overview/" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dc-userguide/" class="md-nav__link">
      DC User Guide
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dcu-datacatalog/" class="md-nav__link">
      Data Catalog
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dcu-lineage/" class="md-nav__link">
      Data Lineage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dcu-fileupload/" class="md-nav__link">
      File Uploads
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../filter/" class="md-nav__link">
      Filter Mechanism
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dcu-tableviewer/" class="md-nav__link">
      Table Viewer
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Configuration
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Configuration" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon"></span>
        Configuration
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../dcc-dates/" class="md-nav__link">
      Dates / Datetimes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dynamic-cell-dropdown/" class="md-nav__link">
      Dynamic Cell Dropdown
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../emails/" class="md-nav__link">
      Emails
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../excel/" class="md-nav__link">
      Excel Formulas
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dcc-groups/" class="md-nav__link">
      Groups
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dcc-options/" class="md-nav__link">
      Options
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../row-level-security/" class="md-nav__link">
      Row Level Security
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dcc-security/" class="md-nav__link">
      Security
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dcc-selectbox/" class="md-nav__link">
      Selectboxes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dcc-tables/" class="md-nav__link">
      Tables
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dcc-validations/" class="md-nav__link">
      Validations
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../macros/" class="md-nav__link">
      Macros
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" checked>
    
    <label class="md-nav__link" for="nav-5">
      Installation
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Installation" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon"></span>
        Installation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../dci-requirements/" class="md-nav__link">
      System Requirements
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dci-deploysas9/" class="md-nav__link">
      SAS 9 Deploy
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        SAS Viya Deploy
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="./" class="md-nav__link md-nav__link--active">
      SAS Viya Deploy
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
    <nav class="md-nav" aria-label="Prerequisites">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#system-account" class="md-nav__link">
    System Account
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#database" class="md-nav__link">
    Database
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#staging-directory" class="md-nav__link">
    Staging Directory
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deployment-diagram" class="md-nav__link">
    Deployment Diagram
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deployment" class="md-nav__link">
    Deployment
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#full-version-manual-deploy" class="md-nav__link">
    Full Version - Manual Deploy
  </a>
  
    <nav class="md-nav" aria-label="Full Version - Manual Deploy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-compute-context" class="md-nav__link">
    Create Compute Context
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy-frontend" class="md-nav__link">
    Deploy frontend
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy-backend" class="md-nav__link">
    Deploy backend
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#full-version-automated-deploy" class="md-nav__link">
    Full Version - Automated Deploy
  </a>
  
    <nav class="md-nav" aria-label="Full Version - Automated Deploy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prepare-the-target-and-token" class="md-nav__link">
    Prepare the Target and Token
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prepare-the-context-json" class="md-nav__link">
    Prepare the Context JSON
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prepare-deployment-script" class="md-nav__link">
    Prepare Deployment Script
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dci-troubleshooting/" class="md-nav__link">
      Troubleshooting
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dci-stpinstance/" class="md-nav__link">
      Dedicated STP
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Evaluation (Demo) Version
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Evaluation (Demo) Version" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        <span class="md-nav__icon md-icon"></span>
        Evaluation (Demo) Version
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../dci-evaluation/" class="md-nav__link">
      Installation
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Legal
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Legal" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        <span class="md-nav__icon md-icon"></span>
        Legal
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../privacy/" class="md-nav__link">
      Privacy Policy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../evaluation-agreement/" class="md-nav__link">
      Evaluation Licence
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../licences/" class="md-nav__link">
      Other Licences
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../videos/" class="md-nav__link">
      Videos
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../roadmap/" class="md-nav__link">
      Roadmap
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
    <nav class="md-nav" aria-label="Prerequisites">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#system-account" class="md-nav__link">
    System Account
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#database" class="md-nav__link">
    Database
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#staging-directory" class="md-nav__link">
    Staging Directory
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deployment-diagram" class="md-nav__link">
    Deployment Diagram
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deployment" class="md-nav__link">
    Deployment
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#full-version-manual-deploy" class="md-nav__link">
    Full Version - Manual Deploy
  </a>
  
    <nav class="md-nav" aria-label="Full Version - Manual Deploy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-compute-context" class="md-nav__link">
    Create Compute Context
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy-frontend" class="md-nav__link">
    Deploy frontend
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy-backend" class="md-nav__link">
    Deploy backend
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#full-version-automated-deploy" class="md-nav__link">
    Full Version - Automated Deploy
  </a>
  
    <nav class="md-nav" aria-label="Full Version - Automated Deploy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prepare-the-target-and-token" class="md-nav__link">
    Prepare the Target and Token
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prepare-the-context-json" class="md-nav__link">
    Prepare the Context JSON
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prepare-deployment-script" class="md-nav__link">
    Prepare Deployment Script
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/macropeople/dcdocs.github.io/edit/master/docs/dci-deploysasviya.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="sas-viya-deployment">SAS Viya Deployment<a class="headerlink" href="#sas-viya-deployment" title="Permanent link">&para;</a></h1>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>Data Controller for SAS Viya consists of a frontend, a set of Job Execution Services, a staging area, a Compute Context, and a database library.  The library can be a SAS Base engine if desired, however this can cause contention (eg table locks) if end users are able to connect to the datasets directly, eg via Enterprise Guide or Base SAS.
A database that supports concurrent access is highly recommended.</p>
<h2 id="prerequisites">Prerequisites<a class="headerlink" href="#prerequisites" title="Permanent link">&para;</a></h2>
<h3 id="system-account">System Account<a class="headerlink" href="#system-account" title="Permanent link">&para;</a></h3>
<p>Data Controller makes use of a system account for performing backend data updates and writing to the staging area.  This needs to be provisioned in advance using the Viya admin-cli.  The process is well described here:  <a href="https://communities.sas.com/t5/SAS-Communities-Library/SAS-Viya-3-5-Compute-Server-Service-Accounts/ta-p/620992">https://communities.sas.com/t5/SAS-Communities-Library/SAS-Viya-3-5-Compute-Server-Service-Accounts/ta-p/620992</a></p>
<h3 id="database">Database<a class="headerlink" href="#database" title="Permanent link">&para;</a></h3>
<p>We strongly recommend that the Data Controller configuration tables are stored in a database for concurrency reasons, however it is also possible to use a BASE engine library.</p>
<p>Let us know which database you are using and we will provide the DDL. We have customers in production using Oracle, Postgres, Netezza, SQL Server to name a few.</p>
<p>Simply run the provided DDL script to create the tables and initial configuration data in your chosen database.  Make sure the system account (see prerequisites) has full read / write access.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>"Modify schema" privileges are not required.</p>
</div>
<h3 id="staging-directory">Staging Directory<a class="headerlink" href="#staging-directory" title="Permanent link">&para;</a></h3>
<p>All deployments of Data Controller make use of a staging directory.  This is used to store CSV and Excel files as uploaded by end users.  This directory should NOT be accessible by end users - only the SAS system account requires access to this directory.
A typical small deployment will grow by a 10-20 mb each month.  A very large enterprise customer, with 100 or more editors, might generate up to 1 GB or so per month, depending on the size and frequency of the Excel EUCs and CSVs being uploaded.  Web modifications are restricted only to modified rows, so are typically just a few kb in size.</p>
<h2 id="deployment-diagram">Deployment Diagram<a class="headerlink" href="#deployment-diagram" title="Permanent link">&para;</a></h2>
<p>The below areas of the SAS Viya platform are modified when deploying Data Controller:</p>
<p><img src="/img/dci_deploymentdiagramviya.svg" height="350" style="border:3px solid black" ></p>
<h2 id="deployment">Deployment<a class="headerlink" href="#deployment" title="Permanent link">&para;</a></h2>
<p>Data Controller deployment is split between 3 deployment types:</p>
<ul>
<li>Demo version</li>
<li>Full Version (manual deploy)</li>
<li>Full Version (automated deploy)</li>
</ul>
<h2 id="full-version-manual-deploy">Full Version - Manual Deploy<a class="headerlink" href="#full-version-manual-deploy" title="Permanent link">&para;</a></h2>
<h3 id="create-compute-context">Create Compute Context<a class="headerlink" href="#create-compute-context" title="Permanent link">&para;</a></h3>
<p>The Viya Compute context is used to spawn the Job Execution Services - such that those services may run under the specified system account, with a particular autoexec.</p>
<p>We strongly recommend a dedicated compute context for running Data Controller.  The setup requires an Administrator account.</p>
<ul>
<li>Log onto SASEnvironment Manager, select Contexts, View Compute Contexts, and click the Create icon.</li>
<li>In the New Compute Context dialog, enter the following attributes:<ul>
<li>Context Name</li>
<li>Launcher Context</li>
<li>Attribute pairs:<ul>
<li>reuseServerProcesses: true</li>
<li>runServerAs: {{the account set up earlier}}</li>
</ul>
</li>
</ul>
</li>
<li>Now switch to the Advanced tab and enter the following autoexec statements:</li>
</ul>
<div class="highlight"><pre><span></span><code>%let DC_LIBREF=DCDBVIYA;
%let DC_ADMIN_GROUP={{YOUR DC ADMIN GROUP}};
%let DC_STAGING_AREA={{YOUR DEDICATED FILE SYSTEM DRIVE}};
libname &amp;dc_libref {{YOUR DC DATABASE}};
</code></pre></div>
<p>To explain each of these lines:</p>
<ul>
<li><code>DC_LIBREF</code> can be any valid 8 character libref.</li>
<li><code>DC_ADMIN_GROUP</code> is the name of a group which will be granted unrestricted access to Data Controller</li>
<li><code>DC_STAGING_AREA</code> should point to a location on the filesystem (this is where the staging files and logs will be stored)</li>
<li>The final libname statement should be configured to point at the database that was figured in <a href="#prerequisites">prerequisites</a></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>XCMD is NOT required to use Data Controller.</p>
</div>
<h3 id="deploy-frontend">Deploy frontend<a class="headerlink" href="#deploy-frontend" title="Permanent link">&para;</a></h3>
<p>Unzip the frontend into <code>/var/www/html</code> directory of the SAS Web Server.  Open <code>index.html</code> and update the following:</p>
<ul>
<li><code>appLoc</code> attribute - this should point to the root folder on SAS Drive where the Job Execution services will be created.</li>
<li><code>contextName</code> attribute - here you should put the compute context that you created in the earlier step.</li>
<li><code>dcPath</code> attribute - ensures auto deploy to this physical location on the filesystem.</li>
</ul>
<h3 id="deploy-backend">Deploy backend<a class="headerlink" href="#deploy-backend" title="Permanent link">&para;</a></h3>
<p>The services can be deployed using a hidden menu in Data Controller.  Navigate to the app, and add <code>/deploy</code> to the url.</p>
<p>You are then presented with some options:</p>
<p>1 - choose your context
2 - click "deploy" to deploy the backend services</p>
<p>You can now launch the application!</p>
<h2 id="full-version-automated-deploy">Full Version - Automated Deploy<a class="headerlink" href="#full-version-automated-deploy" title="Permanent link">&para;</a></h2>
<p>The automated deploy makes use of the SASjs CLI to create the dependent context and job execution services.  In addition to the standard prerequisites (a registered viya system account and a prepared database) you will also need:</p>
<ul>
<li>a local copy of the <a href="https://sasjs.io/sasjs-cli/#installation">SASjs CLI</a></li>
<li>a Client / Secret - with an administrator group in SCOPE, and an authorization_code GRANT_TYPE.  The SASjs <a href="https://github.com/sasjs/viyatoken">Viya Token Generator</a> may help with this.</li>
</ul>
<h3 id="prepare-the-target-and-token">Prepare the Target and Token<a class="headerlink" href="#prepare-the-target-and-token" title="Permanent link">&para;</a></h3>
<p>To configure this part (one time, manual step), we need to run a single command:
<div class="highlight"><pre><span></span><code>sasjs add
</code></pre></div>
A sequence of command line prompts will follow for defining the target.  These prompts are described <a href="https://sasjs.io/sasjs-cli-add/">here</a>.  Note that <code>appLoc</code> is the SAS Drive location in which the Data Controller jobs will be deployed.</p>
<h3 id="prepare-the-context-json">Prepare the Context JSON<a class="headerlink" href="#prepare-the-context-json" title="Permanent link">&para;</a></h3>
<p>This file describes the context that the CI/CD process will generate.  Save this file, eg as <code>myContext.json</code>.</p>
<div class="highlight"><pre><span></span><code>{
  &quot;name&quot;: &quot;DataControllerContext&quot;,
  &quot;attributes&quot;: {
    &quot;reuseServerProcesses&quot;: true,
    &quot;runServerAs&quot;: &quot;mycasaccount&quot;
  },
  &quot;environment&quot;: {
    &quot;autoExecLines&quot;: [
      &quot;%let DC_LIBREF=DCDBVIYA;&quot;,
      &quot;%let DC_ADMIN_GROUP={{YOUR DC ADMIN GROUP}};&quot;,
      &quot;%let DC_STAGING_AREA={{YOUR DEDICATED FILE SYSTEM DRIVE}};&quot;,
      &quot;libname &amp;dc_libref {{YOUR DC DATABASE}};&quot;,
    ],
    &quot;options&quot;: []
  },
  &quot;launchContext&quot;: {
    &quot;contextName&quot;: &quot;SAS Job Execution launcher context&quot;
  },
  &quot;launchType&quot;: &quot;service&quot;,
}
</code></pre></div>
<h3 id="prepare-deployment-script">Prepare Deployment Script<a class="headerlink" href="#prepare-deployment-script" title="Permanent link">&para;</a></h3>
<p>The deployment script will run on a build server (or local desktop) and execute as follows:</p>
<p>```</p>
<h1 id="create-the-sas-viya-target">Create the SAS Viya Target<a class="headerlink" href="#create-the-sas-viya-target" title="Permanent link">&para;</a></h1>
<p>sasjs context create --source myContext.json --target myTarget</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../dci-deploysas9/" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                SAS 9 Deploy
              </div>
            </div>
          </a>
        
        
          <a href="../dci-troubleshooting/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Troubleshooting
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            All rights reserved &copy;2021 Macro People Ltd.
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.6a3d08fc.min.js"></script>
      <script src="../assets/javascripts/bundle.71201edf.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: [],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>